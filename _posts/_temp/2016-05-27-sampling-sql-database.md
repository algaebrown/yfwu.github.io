---
title: SQL 資料庫的隨機採樣
category: datascience
tags: [postgresql, sample]
layout: post
---
在做健保資料庫的時候，大多數的操作都是基於 SQL 來進行（新思維的課程也是通過圖形化 SQL 操作介面軟體 navicat）。最近一次的藥物資料庫運算出來的結果是四億筆資料（七年的百萬人藥物史）。對我來說，這是一個充滿巨量潛在錯誤的結果，於是，我便想要通過撰寫下面程式來驗證：

- 隨機取樣
  - 主要目的是確認格式及是否有 null
  - 當然，全部跑一遍去除髒資料也不是不可以。反正資料清理是一勞永逸的工作，所以這部份是採取全部清理的作法。
- 病歷重建
  - 這個的目的是了解整體用藥史、手術史及診斷碼是否符合常理。
  - 需要人工介入判讀。如果能重建成時間軸模式就更好了。
  - **是否能夠建立自動化的常規判斷模式呢？**
- 驗證模組
  - 之前有組織一小批人將中國醫大利用同一批資料庫的研究成果數位化、結構化，即 CMU-research-database，為一 278 kb 的資料集。
  - 希望能夠按照實驗設計從我們的資料庫中算出類似的結果比對。
